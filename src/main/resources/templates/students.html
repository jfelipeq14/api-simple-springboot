<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Listado de students</title>
    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <div class="container my-5 row justify-content-center">
      <section class="col-sm-12 col-md-6">
        <form
          th:action="@{/students}"
          th:object="${student}"
          method="POST"
          class="w-50 mx-auto rounded shadow p-3"
        >
          <fieldset>
            <legend>Estudiante</legend>
            <div class="form-group m-2">
              <label class="form-label"
                >Documento:
                <input
                  type="text"
                  th:field="*{document}"
                  class="form-control"
                  placeholder="Digite su documento"
                  required
                />
              </label>
              <a
                th:href="@{/students/search/{document}(document=${student.document})}"
                class="btn btn-primary"
                >Buscar</a
              >
            </div>
            <div class="form-group m-2">
              <label class="form-label"
                >Nombres:
                <input
                  type="text"
                  th:field="*{firstName}"
                  class="form-control"
                  placeholder="Digite su nombre"
                  required
                />
              </label>
            </div>

            <div class="form-group m-2">
              <label class="form-label"
                >Apellidos:
                <input
                  type="text"
                  th:field="*{lastName}"
                  class="form-control"
                  placeholder="Digite su apellido"
                  required
                />
              </label>
            </div>

            <div class="form-group m-2">
              <label class="form-label"
                >Correo:
                <input
                  type="email"
                  th:field="*{email}"
                  class="form-control"
                  placeholder="Digite su email"
                  required
                />
              </label>
            </div>
            <button class="btn btn-success">Agregar</button>
          </fieldset>
        </form>
      </section>
      <section class="col-sm-12 col-md-6">
        <fieldset>
          <legend>Lista de estudiantes</legend>
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Documento</th>
                <th scope="col">Nombre</th>
                <th scope="col">Apellido</th>
                <th scope="col">Email</th>
                <th scope="col">Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="student : ${students}">
                <td scope="row" th:text="${student.document}">Documento</td>
                <td th:text="${student.firstName}">Nombres</td>
                <td th:text="${student.lastName}">Apellidos</td>
                <td th:text="${student.email}">Email</td>
                <td>
                  <a
                    th:href="@{/students/update/{id}(id=${student.id})}"
                    class="btn btn-info"
                    >Editar</a
                  >
                  <a
                    th:href="@{/students/delete/{id}(id=${student.id})}"
                    class="btn btn-danger"
                    >Eliminar</a
                  >
                </td>
              </tr>
            </tbody>
          </table>
        </fieldset>
      </section>
    </div>
  </body>
</html>
